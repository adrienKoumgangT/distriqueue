# Spring Boot Configuration for VM Deployment
spring.application.name=gateway
server.port=${API_GATEWAY_PORT:8080}

# H2 Database
spring.datasource.url=jdbc:h2:file:${H2_DB_PATH:./data/distriqueue};DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=PostgreSQL
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.h2.console.settings.web-allow-others=true

# RabbitMQ
spring.rabbitmq.host=${RABBITMQ_HOST:10.2.1.3}
spring.rabbitmq.port=5672
spring.rabbitmq.username=${RABBITMQ_USER:admin}
spring.rabbitmq.password=${RABBITMQ_PASSWORD:SecurePass123!}
spring.rabbitmq.connection-timeout=5000

# Redis
spring.data.redis.host=${REDIS_HOST:10.2.1.3}
spring.data.redis.port=6379
spring.data.redis.password=${REDIS_PASSWORD:RedisPass123!}
spring.data.redis.timeout=5000ms
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=2

# Erlang Communication
distriqueue.erlang.nodes=${ERLANG_NODES:orchestrator1@distriqueue-vm1,orchestrator2@distriqueue-vm2}
distriqueue.erlang.mode=http
distriqueue.erlang.rest.port=8081
distriqueue.erlang.cookie=distriqueue_cluster_cookie_2026

# Job Configuration
distriqueue.job.default-timeout=300
distriqueue.job.default-retries=3
distriqueue.job.max-batch-size=1000
distriqueue.job.cleanup.retention-days=7
distriqueue.job.cleanup.enabled=true

# Logging
logging.file.path=/var/log/distriqueue/gateway
logging.level.com.distriqueue=INFO
